<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>ConnectDCCCD • Pseudo Social</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Top Navbar -->
  <header class="topbar">
    <div class="container">
      <a class="brand" href="#/feed">ConnectDCCCD</a>

      <nav class="nav">
        <a data-route="#/feed">Home</a>
        <a data-route="#/about">About</a>
        <a data-route="#/resources">Resources</a>
        <a data-route="#/profile">Profile</a>
        <a data-route="#/search">Search</a>
        <a data-route="#/inbox">Inbox</a>
        <a data-route="#/notifications">Notifications</a>
        <a data-route="#/settings">Settings</a>
        <a data-route="#/admin">Admin</a> <!-- visible always; guarded in JS -->
      </nav>

      <div class="nav-right">
        <form id="searchForm" class="search">
          <input id="searchInput" placeholder="type to text" />
          <button type="submit">Search</button>
        </form>
        <button id="themeToggle" class="btn">Light mode</button>
        <button id="notificationsLink" data-route="#/notifications" class="btn">
          Alerts <span id="notifBadge" class="badge"></span>
        </button>
        <button id="loginLink" data-route="#/login" class="btn">Login</button>
        <button id="logoutBtn" class="btn danger">SignOut</button>
      </div>
    </div>
  </header>

  <!-- Landing -->
  <section id="view-landing" class="view active">
    <div class="container grid-3">
      <aside class="card">
        <h3>Create an Account</h3>
        <form id="registerForm" class="stack">
          <input name="username" placeholder="Username" required />
          <input type="email" name="email" placeholder="Email" required />
          <input type="password" name="password" placeholder="Password" required minlength="6" />
          <input name="sq" placeholder="Security question" required />
          <input name="sa" placeholder="Answer" required />
          <div class="row">
            <button type="button" class="btn ghost" data-route="#/login">Cancel</button>
            <button class="btn">Sign Up</button>
          </div>
        </form>
        <hr/>
        <h3>Login</h3>
        <form id="loginForm" class="stack">
          <input name="username" placeholder="Email or Username" required />
          <input type="password" name="password" placeholder="Password" required />
          <button class="btn full">Login</button>
        </form>
        <p class="muted"><a href="#/reset">Forgot password?</a></p>
      </aside>

      <div class="hero card translucent">
        <h1>Dallas College Students & Social Media Platform</h1>
        <p>
          Dallas College is one of the largest public, multi-campus community college systems in Texas.
          It offers a wide range of programs including associate and bachelor’s degrees, career certificates,
          and customized training, across multiple physical campuses and online.
        </p>
        <div class="hero-cta">
          <a class="btn" data-route="#/feed">Enter Feed</a>
          <a class="btn ghost" data-route="#/about">Learn more</a>
        </div>
      </div>

      <aside class="card">
        <h3>Change Password</h3>
        <small class="muted">Demo only — saved in browser (no database).</small>
        <form id="resetLookupForm" class="stack">
          <input name="identity" placeholder="Username or Email" required />
          <button class="btn full">Find Account</button>
        </form>
        <form id="resetConfirmForm" class="hidden stack">
          <p id="sqText" class="muted"></p>
          <input name="sa" placeholder="Answer" required />
          <input type="password" name="newPw" placeholder="New Password (min 6)" required minlength="6" />
          <div class="row">
            <button type="button" class="btn ghost" data-route="#/login">Cancel</button>
            <button class="btn">Update</button>
          </div>
        </form>
      </aside>
    </div>
  </section>

  <!-- Feed -->
  <section id="view-feed" class="view">
    <div class="container">
      <div class="row" style="justify-content:space-between;align-items:center">
        <h2 style="margin:0">Main Feed</h2>
        <div class="row" id="feedControls">
          <span class="muted">Sort:</span>
          <select id="feedSort">
            <option value="new">Newest</option>
            <option value="likes">Most liked</option>
            <option value="trending">Trending (likes + comments)</option>
          </select>
        </div>
      </div>

      <form id="postForm" class="card row">
        <input name="text" placeholder="What's happening?" required />
        <button class="btn">Post</button>
      </form>

      <ul id="feedList" class="stack"></ul>

      <div id="suggestions" class="card" style="margin-top:16px"></div>
    </div>
  </section>

  <!-- Profile -->
  <section id="view-profile" class="view">
    <div class="container grid-2">
      <div class="card">
        <h2>My Profile</h2>
        <form id="profileForm" class="stack">
          <div class="row" style="align-items:center">
            <img id="avatarPreview" src="" width="64" height="64" style="border-radius:50%;object-fit:cover;background:#222">
            <input id="avatarInput" type="file" accept="image/*" style="max-width:240px">
          </div>
          <div class="row">
            <div class="card" style="flex:1">Followers: <b id="followerCount">0</b></div>
            <div class="card" style="flex:1">Following: <b id="followingCount">0</b></div>
          </div>
          <input name="displayName" placeholder="Display name" />
          <textarea name="bio" rows="4" placeholder="Bio"></textarea>
          <button class="btn">Save</button>
        </form>
      </div>
      <div>
        <h2>My Posts</h2>
        <ul id="myPosts" class="stack"></ul>
      </div>
    </div>
  </section>

  <!-- View Other User -->
  <section id="view-user" class="view">
    <div class="container">
      <div id="userContainer" class="stack"></div>
    </div>
  </section>

  <!-- Search (posts + people) -->
  <section id="view-search" class="view">
    <div class="container">
      <h2>Search</h2>
      <form id="globalSearchForm" class="row card">
        <input id="globalSearchInput" placeholder="Search posts and people…" />
        <button class="btn">Search</button>
      </form>
      <h3>Posts</h3>
      <ul id="searchPosts" class="stack"></ul>
      <h3>People</h3>
      <ul id="searchUsers" class="stack"></ul>
    </div>
  </section>

  <!-- About / Resources -->
  <section id="view-about" class="view">
    <div class="container">
      <h2>About</h2>
      <p>This project is a front-end prototype. Data is stored locally in your browser using localStorage.</p>
    </div>
  </section>

  <section id="view-resources" class="view">
    <div class="container">
      <h2>Resources</h2>
      <ul>
        <li>Student Handbook</li>
        <li>Advising & Tutoring</li>
        <li>Clubs & Activities</li>
      </ul>
    </div>
  </section>

  <!-- Reset stand-alone -->
  <section id="view-reset" class="view">
    <div class="container">
      <h2>Reset Password</h2>
      <p class="muted">Use the Change Password card on the landing page, or do it here:</p>
      <div class="grid-2">
        <form id="resetLookupForm2" class="card stack">
          <input name="identity" placeholder="Username or Email" required />
          <button class="btn">Find Account</button>
        </form>
        <form id="resetConfirmForm2" class="card hidden stack">
          <p id="sqText2" class="muted"></p>
          <input name="sa" placeholder="Answer" required />
          <input type="password" name="newPw" placeholder="New Password" required minlength="6" />
          <button class="btn">Reset</button>
        </form>
      </div>
    </div>
  </section>

  <!-- Inbox -->
  <section id="view-inbox" class="view">
    <div class="container">
      <h2>Inbox</h2>
      <p class="muted">Private messages you received from other students.</p>
      <ul id="inboxList" class="stack"></ul>
    </div>
  </section>

  <!-- Notifications -->
  <section id="view-notifications" class="view">
    <div class="container">
      <div class="row" style="justify-content:space-between;align-items:center">
        <h2 style="margin:0">Notifications</h2>
        <button class="btn" id="markAllReadBtn">Mark all as read</button>
      </div>
      <ul id="notificationList" class="stack" style="margin-top:12px"></ul>
    </div>
  </section>

  <!-- Account settings -->
  <section id="view-settings" class="view">
    <div class="container">
      <h2>Account settings</h2>
      <form id="settingsForm" class="card stack">
        <div>
          <label>Email</label>
          <input type="email" name="email" required />
        </div>
        <div>
          <label>Current password</label>
          <input type="password" name="currentPw" required />
        </div>
        <div>
          <label>New password (leave blank to keep current)</label>
          <input type="password" name="newPw" />
        </div>
        <button class="btn">Save changes</button>
      </form>
    </div>
  </section>

  <!-- Admin -->
  <section id="view-admin" class="view">
    <div class="container stack">
      <div id="reportBlock"></div>

      <h3>Flagged Posts</h3>
      <ul id="flaggedList" class="stack"></ul>

      <h3>Users</h3>
      <form id="adminSearchForm" class="row card">
        <input id="adminSearchInput" placeholder="Search users by username, display name, or email" />
        <button class="btn">Search</button>
      </form>
      <div class="card" style="overflow:auto">
        <table style="width:100%; border-collapse:collapse">
          <thead>
            <tr><th>User</th><th>Status</th><th>Followers</th><th>Following</th><th>Actions</th></tr>
          </thead>
          <tbody id="adminUsers"></tbody>
        </table>
      </div>
    </div>
  </section>

  <script src="script.js"></script>
</body>
</html>
